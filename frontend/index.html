<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LinkedIn Clone – Login</title>
    <link
      rel="icon"
      type="image/png"
      href="https://static.licdn.com/scds/common/u/images/logos/favicons/v1/favicon.ico"
    />
    <link rel="stylesheet" href="src/index.css" />

    <style>
      /* Smooth fade-slide animation */
      @keyframes fadeSlide {
        0% {
          opacity: 0;
          transform: translateY(20px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Welcome text animation */
      .welcome-text {
        font-weight: 600;
        line-height: 1.3;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeSlide 1s ease-out forwards;
        animation-delay: 0.2s;
      }

      /* Animated gradient text for "professional community" */
      .highlight {
        background: linear-gradient(90deg, #0073b1, #0a66c2, #00a0dc);
        background-size: 200%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: gradientMove 3s ease-in-out infinite;
        font-weight: 700;
      }

      @keyframes gradientMove {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Paragraph fade-in */
      .left p {
        opacity: 0;
        animation: fadeSlide 1.3s ease-out forwards;
        animation-delay: 0.8s;
        color: #555;
      }

      /* Right section fade in */
      .right {
        opacity: 0;
        transform: translateX(20px);
        animation: fadeSlide 1s ease-out forwards;
        animation-delay: 0.6s;
      }
    </style>
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="logo">
        <img
          src="https://static.licdn.com/sc/h/1bt1uwq5akv756knzdj4l6cdc"
          alt="LinkedIn"
        />
        <span>LinkedIn</span>
      </div>
      <a href="create.html" class="join-link">Create Account</a>
    </nav>

    <!-- Main Section -->
    <section class="main-section">
      <div class="left">
        <h1 class="welcome-text">
          Welcome back to your
          <span class="highlight">professional community</span>
        </h1>
        <p>
          Connect with colleagues, learn new skills, and explore opportunities
          that help you grow.
        </p>
      </div>

      <div class="right">
        <h2>Sign in</h2>
        <form id="loginForm">
          <label>Email address</label>
          <input
            type="email"
            id="email"
            placeholder="you@example.com"
            required
          />

          <label>Password</label>
          <input type="password" id="password" placeholder="" required />

          <button type="submit" class="signin-btn">Login</button>

          <div class="divider">
            <hr />
            <span>or</span>
            <hr />
          </div>

          <button
            type="button"
            class="join-btn"
            onclick="window.location.href='create.html'"
          >
            Create new account
          </button>
        </form>
      </div>
    </section>

    <footer>LinkedIn Clone © 2025 • Built by Ajit</footer>

    <script>
      const API = "https://linkedin-clone-appdost-m3go.onrender.com";

      const form = document.getElementById("loginForm");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();

        if (!email || !password) {
          alert("❌ Please enter email and password");
          return;
        }

        try {
          const res = await fetch(`${API}/api/auth/signup`, {

              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email, password }),
            }
          );

          const data = await res.json();

          if (!res.ok) throw new Error(data.message || "Login failed");

          localStorage.setItem("token", data.token);
          localStorage.setItem("user", JSON.stringify(data.user));

          alert(`✅ Welcome ${data.user.name || "User"}!`);

          setTimeout(() => {
            window.open("http://localhost:5173/feed.html", "_self");
          }, 400);
        } catch (err) {
          alert("❌ " + err.message);
          console.error("Login error:", err);
        }
      });
    </script>
  </body>
</html>
